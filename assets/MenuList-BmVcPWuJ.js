import{_ as y,a as C,m as b,k as v,r as i,o as a,c as n,d,F as u,g as T,b as t,w as L,t as r,l as _,f as x}from"./index-DPmcGQ0K.js";import{A as w}from"./AddCartToast-B-3pOIdB.js";import{c as h}from"./cartStore-iok_Qy6J.js";import"./bootstrap.esm-CSuV2MM8.js";var k={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"luminous",BASE_URL:"/TestGit-1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:$,VITE_PATH:A}=k,D={components:{AddCartToast:w},data(){return{apiData:{},productTemp:{},isLoading:!1}},mounted(){this.getProducts()},watch:{"$route.query":{handler(){this.getProducts()},deep:!0},cartUpdated(){this.$refs.addCartToast.show(),this.setCartUpdate()}},computed:{...C(h,["carts","status","cartUpdated"])},methods:{...b(h,["addCart","delCart","setCartUpdate"]),getProducts(s=""){console.log(s),this.isLoading=!0,v.get(`${$}/api/${A}/products?category=${this.$route.query.category}`).then(o=>{this.apiData=o.data.products,console.log(this.carts),console.log(o),this.isLoading=!1}).catch(o=>{console.log(o),this.isLoading=!1})}}},V={class:"card-menu w-100 h-100 d-flex flex-column justify-content-between text-center"},E={class:"card-img object-fit"},P=["src"],j={class:"text-primary d-flex flex-column justify-content-center justify-content-lg-between p-lg-4 p-1"},I={class:"text-center mb-3"},S={class:"d-flex justify-content-center align-baseline"},U={class:"text-danger fw-bold"},B={key:0,class:"ms-3"},N={class:"d-grid"},R=["onClick","disabled"],M={key:0,class:"spinner-border text-secondary me-4",role:"status"},q=t("span",{class:"visually-hidden"},"Loading...",-1),F=[q],H=t("span",{class:"d-none d-lg-block"},"加入購物車",-1),O=t("span",{class:"material-symbols-outlined me-1 d-lg-none"}," shopping_cart ",-1);function G(s,o,z,J,c,K){const g=i("LoadingView"),m=i("RouterLink"),f=i("AddCartToast");return a(),n(u,null,[d(g,{active:c.isLoading},null,8,["active"]),(a(!0),n(u,null,T(this.apiData,e=>{var l,p;return a(),n("div",{key:e.id,class:"col-lg-4 col-6 mb-6"},[t("div",V,[t("div",E,[d(m,{to:`/menuDetail/${e.id}`},{default:L(()=>[t("img",{src:e.imageUrl,alt:"",class:"object-fit-cover w-100",title:"點擊可以查看餐點詳細資訊"},null,8,P)]),_:2},1032,["to"])]),t("div",j,[t("p",I,r(e.title),1),t("div",S,[t("p",U,"NT$"+r(e.price),1),e.origin_price?(a(),n("del",B,r(e.origin_price),1)):_("",!0)])]),t("div",N,[t("button",{onClick:x(Q=>s.addCart(e.id,e,1),["prevent"]),class:"btn btn-outline-primary py-3 d-flex justify-content-center align-items-center text-center",type:"button",disabled:e.id===((l=s.status)==null?void 0:l.addCartLoading)},[e.id===((p=s.status)==null?void 0:p.addCartLoading)?(a(),n("div",M,F)):_("",!0),H,O],8,R)])])])}),128)),d(f,{ref:"addCartToast",productTemp:c.productTemp,onDeleteCart:s.delCart},null,8,["productTemp","onDeleteCart"])],64)}const tt=y(D,[["render",G]]);export{tt as default};
